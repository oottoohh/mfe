<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="description" content="Baze is a front-end starter template">
    <meta http-equiv="Cache-Control" content="no-cache, no-store, must-revalidate" />
    <meta http-equiv="Pragma" content="no-cache" />
    <meta http-equiv="Expires" content="0" />
    <script type="text/javascript">
        var __CACHE_BUSTER = (new Date()).getTime();

        var __CACHE_BUSTED_STYLES = [
			"../../../Content/Site.css",
            "../../../Content/bootstrap/layout-grid/bootstrap.css",
            "../../../Content/kendo/2014.1.423/kendo.common.min.css",
            "../../../Content/kendo/2014.1.423/kendo.bootstrap.min.css",
           "../../../Content/fontawesome/fontawesome-free-5.9.0-web/css/fontawesome.min.css",
        ];

        var __CACHE_BUSTED_SCRIPTS_USED = [
            "../../../Scripts/kendo/2014.1.423/jquery.min.js",
            "../../../Scripts/kendo/2014.1.423/kendo.web.min.js",
            "../../../Content/fontawesome/fontawesome-free-5.9.0-web/js/fontawesome.min.js",
            "../../../Content/fontawesome/fontawesome-free-5.9.0-web/js/all.js",
            "../../../Scripts/Common/sweet.js",
            "../../../Scripts/Common/MessageBox.js",
            "../../../Scripts/Common/constant.js",
            "../../../Scripts/Common/common.js",
            "../../../Scripts/Views/OnlineTesting/Narrative/AddNarrative.js",
			"../../../Scripts/Views/OnlineTesting/Narrative/AddNarrativeViewModel.js",
            "../../../Scripts/Views/OnlineTesting/GetReport/GetReport.js",

        ]
    </script>
    <script type="text/javascript">
        __CACHE_BUSTED_STYLES.forEach(function (s) {
            document.write('<link rel="stylesheet" type="text/css" href="' + s + '?version=' + __CACHE_BUSTER + '"  \/>');
        });
    </script>
<title>Add Narrative</title>
     <style>
        .entered {
            padding-bottom: 10px;
        }
        .swal-text{text-align:center;}
        .narrativeText {white-space: nowrap;}
        .k-button.k-danger,
        .k-button.k-danger:active {
            background-color: #f64141;
            color: #fff;
            border-color: #f64141;
        }
        thead {color: #AAA;}
       
        th#sl1:hover, th#sl2:hover {
            cursor: pointer;
            background: #AAA;
        }
    </style>
</head>
<body>
    <div class="column-new-tab-question-x">
        <img src="../../../Images/AIStandard-Logo.gif" /><span style="padding-left:21%; font-size:20px;"><b>Online Test System - Admin Site</b></span>
    </div>
    <div class="colomup">
        <span class="headup" data-bind="html:title"></span>
        <a href="#" style="position:absolute; padding-left:80%; color:white;" onclick="hideForm(this)" class="arrow1">
            <i class="k-icon k-i-arrow-s"></i>
        </a>
        <a href="#" style="position:absolute; padding-left:80%; color:white;" onclick="showForm(this)" hidden="hidden" class="arrow2">
            <i class="k-icon k-i-arrow-n"></i>
        </a>
    </div>
    <br />
    <div id="example">

        <div class="demo-section k-content">
            <div id="content" class="toogle_header">
                <div class="box1" id="boox">
                    <div class="form-content" style="padding:12px;">
                        <div class="row" style="margin-bottom:10px;">
                            <div class="col-xs-6">
                                <label style="margin-right:10px;">
                                    Created By
                                    <!--<span class="mandatory">*</span>-->
                                </label>
                                <input id="createBy" type="text" name="createBy" data-bind="value:createBy" class="" disabled="disabled" style="margin-left: 10%" />
                            </div>
                            <div class="col-xs-auto">
                                <label style="margin-right:10px;">Last Modified By</label>
                                <input id="lastModifiedBy" name="lastModifiedBy" data-bind="value:lastModifiedBy" type="text" class="" disabled="disabled" style="margin-left: 13px" />
                            </div>
                        </div>
                        <div class="row" style="margin-bottom:10px;">
                            <div class="col-xs-6">
                                <label style="margin-right:10px;">
                                    Created On
                                    <!--<span class="mandatory">*</span>-->
                                </label>
                                <input id="createOn" name="createOn" type="text" data-bind="value:createOn" class="" disabled="disabled" style="margin-left: 65px" />
                            </div>
                            <div class="col-xs-auto">
                                <label style="margin-right:10px;">Last Modified On</label>
                                <input id="lastModifiedOn" name="lastModifiedOn" data-bind="value:lastModifiedOn" type="text" class="" disabled="disabled" style="margin-left: 10px" />
                            </div>
                        </div>
                    </div>
                </div>
                <div class="column-new-tab-question"></div>
                <div class="column-new-tab-question-x">
                    <div class="form-content">
                        <div class="row">
                            <div class="col-xs-6">
                                <label style="margin-right:113px;">Code<span class="mandatory">*</span></label>
                                <input type="text" class="k-textbox" id="Code" data-bind="value:Code" name="Code" style="width:245px;margin-bottom:10px;background:#13121233;" disabled="disabled" />
                            </div>
                            <div class="col-xs-auto">
                                <label style="margin-right:85px;">Type<span class="mandatory">*</span></label>
                                <input id="TypeNarrative" name="TypeNarrative" data-role="combobox" style="width:241px;" data-bind="value: TypeNarrative" placeholder="Select Test Tool ..." />
                            </div>
                        </div>
                        <div class="row" style="gridDataMappingIQx;">
                            <div class="col-xs-6">
                                <div class="input-testtool">
                                    <label style="margin-right:93px;;">Test Tool</label>
                                    <input id="TestToolNarrative" name="TestToolNarrative" data-role="combobox" style="width:245px;" data-bind="value: TestToolNarrative" placeholder="Select Test Tool ..." />
                                </div>
                                <div class="input-mappingreport">
                                    <div class="row">
                                        <div class="col-xs-2">
                                            <label>Mapping Report</label>
                                        </div>
                                        <div class="col-xs-2"><select id="MappingReport" data-placeholder="Select Mapping Report..." data-bind="value: MappingReport" style="width:242px;margin-left:13px;"></select></div>
                                    </div>
                                </div>
                            </div>
                            <div class="col-xs-auto">
                                <label style="margin-right:84px;">Title<span class="mandatory">*</span></label>
                                <input type="text" class="k-textbox" id="NarrativeTitle" data-bind="value:NarrativeTitle" name="NarrativeTitle" style="width:241px;" placeholder="Type Here ..." />
                            </div>
                        </div>
                        <div class="row" style="margin-top:10px;">
                            <div class="col-xs-6">
                                <div class="subtest-dropdownList">
                                    <label style="margin-right:90px;">Sub Test<span class="mandatory">*</span></label>
                                    <input type="text" class="" id="SubTestName" data-role="combobox" data-bind="value:SubTestName" name="SubTestName" style="width:245px;" />
                                </div>
                            </div>
                            <div class="col-xs-auto">
                                <label style="margin-right:33px;">Display Status</label>
                                <input class="label-field" type="checkbox" name="DisplayStatus" id="DisplayStatus" data-role="checkbox" data-bind="checked: DisplayStatus" onchange="Display(this)" /> Active
                            </div>
                        </div>

                        <div class="grid-score" style="margin-top:5%;">                            
                            <div class="Score entered container" id="label1">
                                <div class="row" id="subtest-column" style="text-align:center;margin-bottom:25px;">
                                    <div class="col-xs-1">
                                        Score
                                    </div>
                                    <div class="col-xs-2">
                                        Long <span class="mandatory">*</span>
                                    </div>
                                    <div class="col-xs-2">
                                        Short <span class="mandatory">*</span>
                                    </div>
                                    <div class="col-xs-2">
                                        Strength
                                    </div>
                                    <div class="col-xs-2">
                                        Development Area
                                    </div>
                                </div>
                                <div class="row" id="iqvalidity-column" style="text-align:center;margin-bottom:25px;">
                                    <div class="col-xs-2">
                                        Score
                                    </div>
                                    <div class="col-xs-6">
                                        Narratives
                                    </div>
                                </div>
                                <div class="row NarrativeField" id="subtest-field" style="text-align:center">
                                    <div class="col-xs-1">
                                        <input type="number" class="k-textbox" id="Score1" name="Score1" value="" style="width:40%" readonly="readonly" />
                                    </div>
                                    <div class="col-xs-2">
                                        <textarea id="NarrativeLong1" class="k-textbox char-textarea" name="NarrativeLong1" data-bind="value:Narrative[0].NarrativeLong1" style="width:70%" maxlength="2000"></textarea>
                                        Remaining chars: <span class="remainingChars" style="font-size:8pt; font-weight:bold;"></span>
                                    </div>
                                    <div class="col-xs-2">
                                        <textarea id="NarrativeShort1" class="k-textbox char-textarea" name="NarrativeShort1" data-bind="value:Narrative[0].NarrativeShort1" style="width:70%" maxlength="2000"></textarea>
                                        Remaining chars: <span class="remainingChars" style="font-size:8pt; font-weight:bold;"></span>
                                    </div>
                                    <div class="col-xs-2">
                                        <textarea id="NarrativeStrength1" class="k-textbox char-textarea" name="NarrativeStrength1" data-bind="value:Narrative[0].NarrativeStrength1" style="width:70%" maxlength="2000"></textarea>
                                        Remaining chars: <span class="remainingChars" style="font-size:8pt; font-weight:bold;"></span>
                                    </div>
                                    <div class="col-xs-2">
                                        <textarea id="NarrativeDevArea1" class="k-textbox char-textarea" name="Narrative1DevArea1" data-bind="value:Narrative[0].Narrative1DevArea1" style="width:70%" maxlength="2000"></textarea>
                                        Remaining chars: <span class="remainingChars" style="font-size:8pt; font-weight:bold;"></span>
                                    </div>
                                    <div class="col-xs-1">
                                        <button id="addSubTest" class="k-button btn-form k-primary" onclick="addListNarrative(this)" style="margin-top:0px !important;margin-left:10px;width:40px !important;height:40px !important;"><i class="fas fa-check-square fa-2x"></i></button>
                                    </div>
                                </div>
                                <div class="row NarrativeField-IQ" id="IQ-field" style="text-align:center">
                                    <div class="col-xs-2">
                                        <input type="number" class="k-textbox" id="Score1" name="Score1" style="width:40%" readonly="readonly" />
                                    </div>
                                    <div class="col-xs-6">
                                        <textarea id="NarrativeIQ1" class="k-textbox char-textarea" name="NarrativeIQ1" data-bind="value:Narrative[0].NarrativeIQ1" style="width:100%" maxlength=2000></textarea>
                                        Remaining chars: <span class="remainingChars" style="font-size:8pt; font-weight:bold;"></span>
                                    </div>
                                    <div class="col-xs-2">
                                        <button id="addSubTest" class="k-button btn-form k-primary" onclick="addListNarrative(this)" style="margin-top:0px !important;margin-left:10px;"><i class="fas fa-check-square fa-2x"></i></button>
                                    </div>
                                </div>
                                <div class="row NarrativeField-ValidityScale" id="validityScale-field" style="text-align:center">
                                    <div class="col-xs-2">
                                        <input type="text" class="k-textbox" id="ScoreValidity1" name="Score1" value="Pass" style="width:40%" readonly="readonly" />
                                    </div>
                                    <div class="col-xs-8">
                                        <textarea id="NarrativeValidityScale1" class="k-textbox NarrativeValidityScale char-textarea" name="NarrativeValidityScale1" data-bind="value:Narrative[0].NarrativeValidityScale1" style="width:70%;margin-bottom:10px;" maxlength=2000></textarea>
                                        Remaining chars: <span class="remainingChars" style="font-size:8pt; font-weight:bold;"></span>
                                    </div>
                                    <div class="col-xs-2">
                                        <input type="text" class="k-textbox" id="ScoreValidity2" name="Score1" value="Reconfirm" style="width:40%" readonly="readonly" />
                                    </div>
                                    <div class="col-xs-8">
                                        <textarea id="NarrativeValidityScale2" class="k-textbox NarrativeValidityScale char-textarea" name="NarrativeValidityScale2" data-bind="value:Narrative[0].NarrativeValidityScale2" style="width:70%;margin-bottom:10px;" maxlength=2000></textarea>
                                        Remaining chars: <span class="remainingChars" style="font-size:8pt; font-weight:bold;"></span>
                                    </div> 
                                </div>
                            </div>
                            <div id="subtestTable" class="container">
                                <table id="gridDataMappingSubtest">
                                    <thead>
                                        <tr>
                                            <th id="sl1" data-field="Score" style="width: 6%;">Score</th>
                                            <th data-field="TestTool">Long</th>
                                            <th data-field="Short">Short</th>
                                            <th data-field="Strength">Strength</th>
                                            <th data-field="DevelopmentArea">Development Area</th>
                                            <th data-field="Action">Action</th>
                                        </tr>
                                    </thead>
                                    <tbody>
                                    </tbody>
                                </table>
                            </div>
                            <div id="iqTable" class="container">
                                <table id="gridDataMappingIQ">
                                    <thead>
                                        <tr>
                                            <th id="sl2" data-field="Score" style="width: 6%;">Score</th>
                                            <th data-field="Narratives">Narratives</th>
                                            <th data-field="Action">Action</th>
                                        </tr>
                                    </thead>
                                    <tbody>
                                    </tbody>
                                </table>
                            </div>
                        </div>
                    </div>
                </div>
                <br />
                <button class="k-button k-primary btn-form" id="btnSave" data-bind="click:save">Save</button>
                <button class="k-button k-default btn-form" id="btnCancel" data-bind="click:cancel">Cancel</button>
            </div>
        </div>
    </div>
    <script type="text/javascript">
        __CACHE_BUSTED_SCRIPTS_USED.forEach(function (s) {
            
            document.write('<script type="text/javascript" src="' + s + ('?version=' + __CACHE_BUSTER) + '"><\/script>');
            // document.write('<script type="text/javascript" src="' + s + (isLibrary ? '' : '') + '"><\/script>');
        });
    </script>
    
    
    <script>
        (function ($) {
            'use strict';
            $.fn.remainingCharsCounter = function () {
                return this.on('focus keyup', function () {
                    var remainingChars = $(this).attr('maxlength') - $(this).val().length;
                    $(this).next('.remainingChars').text(remainingChars).focus();;
                });
            };
        }
        )(jQuery);
        jQuery(document).ready(function () {
            'use strict';
            var type = GetParameterByName('Type');
            var tableID;
            if (type == "subtest" || type == "SUBTEST") {
                tableID = "gridDataMappingSubtest";
            } else {
                tableID = "gridDataMappingIQ";
            }
            function sortTable(f, n) {
                var rows = $('#'+tableID+' tbody tr').get();

                rows.sort(function (a, b) {

                    var A = getVal(a);
                    var B = getVal(b);

                    if (A < B) {
                        return -1 * f;
                    }
                    if (A > B) {
                        return 1 * f;
                    }
                    return 0;
                });

                function getVal(elm) {
                    var v = $(elm).children('td').eq(n).text().toUpperCase();
                    if ($.isNumeric(v)) {
                        v = parseInt(v, 10);
                    }
                    return v;
                }

                $.each(rows, function (index, row) {
                    $('#' + tableID).children('tbody').append(row);
                });
            }
            var f_sl = 1;
            $("#sl1").click(function () {
                f_sl *= -1;
                var n = $(this).prevAll().length;
                sortTable(f_sl, n);
            });
            $("#sl2").click(function () {
                f_sl *= -1;
                var n = $(this).prevAll().length;
                sortTable(f_sl, n);
            });
            $('textarea.char-textarea').remainingCharsCounter().css('border', '1px solid #0000004f');
        });
    </script>

</body>
</html>
